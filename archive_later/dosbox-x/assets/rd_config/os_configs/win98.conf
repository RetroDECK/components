[sdl]
autolock=true

# ------------------------------------------------------------------
# Optimized Windows 95/98 profile for DOSBox-X
# Goal: maximize compatibility with Windows 9x guests while giving
#       modern hosts good performance out-of-the-box.
# Notes: anyone running on weaker hardware should reduce `cycles` or
#        switch `core` back to `normal` for stability.
# ------------------------------------------------------------------

[dosbox]
title=Windows 98
memsize=512

[video]
; Video RAM for SVGA: 8 MB is a good baseline for Windows 98 (handles 1024x768/16M)
; If you want automatic selection, set to -1. Keep 8 to match most Win9x drivers.
vmemsize=8
vesa modelist width limit=0
vesa modelist height limit=0

[dos]
# Set 'ver=7.1' if using Win95 OSR2 (95B) or later
ver=7.1
; remove artificial I/O throttles for best responsiveness when running from
; local images/mounts. Set to -1 to re-enable host-friendly defaults.
hard drive data rate limit=0
floppy drive data rate limit=0

[cpu]
; CPU: Windows 9x works best with a Pentium-compatible CPU. Use pentium_ii
; for better compatibility with later Windows 9x-era drivers / apps.
; Use core=dynamic for significantly improved performance on modern hosts
; (dynamic_rec is unsafe for Windows 9x; avoid it). `cycles=max` gives max speed
; but can be adjusted (e.g. fixed 50000) if you see issues.
cputype=pentium_ii
core=dynamic
cycles=max
turbo = true
; Keep ISA PnP BIOS for Windows 9x detection of PnP devices
isapnpbios=true

[fdc, primary]
int13fakev86io=true

[ide, primary]
int13fakeio=true
int13fakev86io=true

[ide, secondary]
int13fakeio=true
int13fakev86io=true
; reduce wait when inserting CDs (helpful for immersive testing/booting)
cd-rom insertion delay=0

[render]
; Scaler - leave as 'none' for faithful/natural rendering.
; If you prefer nicer upscaling on modern displays, try 'normal2x' or
; 'openglpp' (depending on host GPU/drivers). Example: scaler=normal2x
scaler=none

[autoexec]
